# FLUS â€” Norwegian Job Marketplace MVP# FLUS â€” Local Job Marketplace MVP# FLUS â€” Local Job Marketplace MVP# FLUS â€” Local Job Marketplace MVP# FLUS â€” MVP Platform



> A modern platform connecting Norwegian employers with local workers for small tasks and gigs.



[![Next.js](https://img.shields.io/badge/Next.js-15.5.4-black)](https://nextjs.org/)**FLUS** is a Norwegian job platform connecting employers with workers for small local tasks and gigs. Built with Next.js 15, Supabase, and Vipps OAuth authentication.

[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)

[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green)](https://supabase.com/)

[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸš€ Features**FLUS** is a Norwegian job platform connecting employers with workers for small local tasks and gigs. Built with Next.js 15, Supabase, and Vipps OAuth authentication.

---



## ğŸ“– Table of Contents

### For Workers (JobbsÃ¸ker)

- [Overview](#overview)

- [Features](#features)- ğŸ” Browse jobs by category, location, and keywords

- [Tech Stack](#tech-stack)

- [Getting Started](#getting-started)- âœ‰ï¸ Apply to jobs with one click## ğŸš€ Features**FLUS** is a Norwegian job platform connecting employers with workers for small local tasks and gigs. Built with Next.js 15, Supabase, and Vipps OAuth authentication.**FLUS** is a Norwegian job platform MVP connecting employers with workers for small local tasks. Built with Next.js 15, Supabase (PostgreSQL), and real Vipps OAuth authentication.

- [Configuration](#configuration)

- [Deployment](#deployment)- ğŸ’¬ Real-time chat with employers

- [API Documentation](#api-documentation)

- [Project Structure](#project-structure)- ğŸ“Š Track your application status

- [Testing](#testing)

- [Troubleshooting](#troubleshooting)- ğŸ‘¤ Create professional profile with CV and skills

- [Contributing](#contributing)

- â­ Build reputation through reviews and ratings### For Workers (JobbsÃ¸ker)

---

- ğŸ“§ Email notifications for application updates

## ğŸ¯ Overview

- ğŸ” Browse jobs by category, location, and keywords

**FLUS** is a full-stack job marketplace platform built for the Norwegian market. It enables:

- **Workers** to find and apply for local gigs### For Employers (Arbeidsgiver)

- **Employers** to post jobs and hire qualified workers

- **Real-time communication** between parties- â• Create and manage job postings- âœ‰ï¸ Apply to jobs with one click## ğŸš€ Features## Features

- **Secure authentication** via Vipps OAuth

- ğŸ“‹ Review applications from workers

---

- ğŸ’¬ Chat with applicants in real-time- ğŸ’¬ Real-time chat with employers

## âœ¨ Features

- ğŸ“Š View business statistics

### ğŸ‘· For Workers

- ğŸ” Browse jobs by category, location, and keywords- â­ Receive and give reviews- ğŸ“Š Track your application status

- âœ‰ï¸ One-click job applications

- ğŸ’¬ Real-time chat with employers- ğŸ“§ Email notifications for new applications

- ğŸ“Š Track application status

- ğŸ‘¤ Build professional profile with CV and skills- ğŸ‘¤ Create professional profile with CV and skills

- â­ Reputation system with reviews and ratings

- ğŸ“§ Email notifications for updates### Platform Features



### ğŸ¢ For Employers- ğŸ” Secure authentication via Vipps OAuth- â­ Build reputation through reviews and ratings### For Workers### For Workers (JobbsÃ¸ker)

- â• Create and manage job postings

- ğŸ“‹ Review worker applications- ğŸ“± Fully responsive design

- ğŸ’¬ Chat with applicants

- ğŸ“ˆ View business statistics- ğŸŒ Location-based job search with address autocomplete (powered by Google Places API)- ğŸ“§ Email notifications for application updates

- â­ Rate and review workers

- ğŸ“§ Get notified of new applications- ğŸ“… Flexible scheduling (anytime/fixed/deadline)



### ğŸ¨ Platform Features- ğŸ’° Multiple payment options (fixed price/hourly rate)- ğŸ” Browse jobs by category, location, and keywords- Browse jobs by category, location, keywords

- ğŸ” Secure authentication via **Vipps OAuth**

- ğŸ“± Fully responsive design- ğŸ“¸ Photo upload support for jobs

- ğŸ—ºï¸ Location-based search with **Google Places API**

- ğŸ“… Flexible scheduling options- ğŸ¯ Achievement system### For Employers (Arbeidsgiver)

- ğŸ’° Fixed price or hourly rate payments

- ğŸ“¸ Photo uploads for jobs- ğŸ“§ Automated email notifications

- ğŸ† Achievement system

- ğŸ‘‘ Admin dashboard- ğŸ‘‘ Admin dashboard for platform management- â• Create and manage job postings- âœ‰ï¸ Apply to jobs with one click- Apply with cover message



---



## ğŸ› ï¸ Tech Stack## ğŸ› ï¸ Tech Stack- ğŸ“‹ Review applications from workers



| Category | Technology |

|----------|-----------|

| **Framework** | Next.js 15.5.4 (App Router, Turbopack) |- **Framework:** Next.js 15.5.4 with App Router & Turbopack- ğŸ’¬ Chat with applicants in real-time- ğŸ’¬ Real-time chat with employers- Chat with employers

| **Language** | TypeScript |

| **Database** | Supabase (PostgreSQL) |- **Database:** Supabase (PostgreSQL + Storage)

| **Storage** | Supabase Storage |

| **Authentication** | Vipps OAuth 2.0 |- **Authentication:** Vipps OAuth 2.0- ğŸ“Š View business statistics

| **Styling** | Tailwind CSS 4.0 |

| **UI Components** | Radix UI + shadcn/ui |- **Styling:** Tailwind CSS 4.0

| **Email** | Nodemailer (SMTP) |

| **Maps** | Google Places API |- **UI Components:** Radix UI + shadcn/ui- â­ Receive and give reviews- ğŸ“Š Track your application status- Track achievements and progress

| **Testing** | Playwright |

- **Language:** TypeScript

---

- **Email:** Nodemailer with SMTP- ğŸ“§ Email notifications for new applications

## ğŸš€ Getting Started

- **State Management:** React Hooks

### Prerequisites

- **Session Management:** HTTP-only cookies- ğŸ‘¤ Create professional profile with CV and skills- View application status

Before you begin, ensure you have:

- **Node.js** 18+ installed- **Address Search:** Google Places API

- **npm** or **pnpm** package manager

- **Supabase** account ([Sign up](https://supabase.com))### Platform Features

- **Vipps** developer account ([Register](https://vipps.no/developer))

- **Gmail** account (for SMTP)## ğŸ“‹ Prerequisites

- **Google Cloud Platform** account (for Places API)

- ğŸ” Secure authentication via Vipps OAuth- â­ Build reputation through reviews and ratings- Profile with CV, skills, reviews

### Installation

- Node.js 18+ and npm

1. **Clone the repository**

   ```bash- Supabase account- ğŸ“± Fully responsive design

   git clone https://github.com/KovalDenys1/flus-mvp.git

   cd flus-mvp- Vipps developer account (for OAuth)

   ```

- Gmail account (for email notifications)- ğŸŒ Location-based job search with radius filter- ğŸ“§ Email notifications for application updates- **Email notifications** for application status updates

2. **Install dependencies**

   ```bash- Google Cloud Platform account (for Places API)

   npm install

   ```- ğŸ“… Flexible scheduling (anytime/fixed/deadline)



3. **Set up the database**## ğŸš€ Quick Start

   

   Create a Supabase project at [supabase.com](https://supabase.com), then run these migrations in order in the SQL Editor:- ğŸ’° Multiple payment options (fixed price/hourly rate)

   

   - `supabase/migrations/01_init_schema.sql`### 1. Clone and Install

   - `supabase/migrations/02_storage_policies.sql`

   - `supabase/migrations/03_seed_demo_jobs.sql`- ğŸ“¸ Photo upload support for jobs

   - `supabase/migrations/04_add_birth_year.sql`

```bash

4. **Create storage bucket**

   git clone https://github.com/KovalDenys1/flus-mvp.git- ğŸ¯ Achievement system### For Employers### For Employers (Arbeidsgiver)

   In Supabase Dashboard â†’ Storage:

   - Create bucket: `job-photos`cd flus-mvp

   - Set to **Public**

   - Max file size: **5MB**npm install- ğŸ“§ Automated email notifications



5. **Configure environment variables**```

   

   Create `.env.local` file (see [Configuration](#configuration) section):- â• Create and manage job postings- Create jobs with requirements

   

   ```bash### 2. Database Setup

   cp .env.example .env.local

   # Edit .env.local with your credentials## ğŸ› ï¸ Tech Stack

   ```

1. Create a new project at [supabase.com](https://supabase.com)

6. **Run the development server**

   ```bash2. Run migrations in order in Supabase SQL Editor:- **Framework:** Next.js 15.5.4 with App Router & Turbopack- ğŸ“‹ Review applications from workers- Manage posted jobs

   npm run dev

   ```   - `supabase/migrations/01_minimal_schema.sql`

   

   Open [http://localhost:3000](http://localhost:3000) ğŸ‰   - `supabase/migrations/02_minimal_storage.sql`- **Database:** Supabase (PostgreSQL + Storage)



---   - `supabase/migrations/03_add_birth_year.sql`



## âš™ï¸ Configuration   - `supabase/migrations/04_update_users_table.sql`- **Authentication:** Vipps OAuth 2.0- ğŸ’¬ Chat with applicants in real-time- Chat with applicants



### Environment Variables   - `supabase/migrations/05_add_support_tickets.sql`



Create a `.env.local` file in the project root:   - `supabase/migrations/06_add_initial_photos.sql`- **Styling:** Tailwind CSS 4.0



```env   - `supabase/migrations/07_add_addresses_table.sql`

# Supabase Configuration

NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co   - `supabase/migrations/07_add_admin_role.sql`- **UI Components:** Radix UI + shadcn/ui- ğŸ“Š View business statistics- View statistics

NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here   - `supabase/migrations/08_enable_realtime.sql`



# Application URL- **Language:** TypeScript

NEXT_PUBLIC_APP_URL=http://localhost:3000

3. Create storage bucket:

# Vipps OAuth (Test Environment)

VIPPS_CLIENT_ID=your_vipps_client_id   - Navigate to Storage in Supabase Dashboard- **Email:** Nodemailer with SMTP- â­ Receive and give reviews- Company profile and reviews

VIPPS_CLIENT_SECRET=your_vipps_client_secret

VIPPS_SUBSCRIPTION_KEY=your_subscription_key   - Create bucket named `job-photos`

VIPPS_MERCHANT_SERIAL_NUMBER=your_msn

VIPPS_API_BASE_URL=https://apitest.vipps.no   - Make it **Public**- **State Management:** React Hooks

VIPPS_REDIRECT_URI=http://localhost:3000/api/auth/vipps/callback

   - Set file size limit to **5MB**

# Email Configuration (SMTP)

SMTP_HOST=smtp.gmail.com- **Session Management:** HTTP-only cookies- ğŸ“§ Email notifications for new applications- **Email notifications** for new applications

SMTP_PORT=587

SMTP_SECURE=false### 3. Environment Configuration

SMTP_USER=your-email@gmail.com

SMTP_PASS=your_gmail_app_password



# Google Places APICreate `.env.local` file (see `.env.example` for reference):

NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key

```## ğŸ“‹ Prerequisites



### Email Setup (Gmail SMTP)```env



1. Enable **2-Factor Authentication** on your Gmail account# Supabase- Node.js 18+ and npm

2. Generate an **App Password**:

   - Visit: https://myaccount.google.com/apppasswordsNEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

   - Select "Mail" and your device# FLUS â€” Norwegian Job Marketplace MVP

   - Copy the generated 16-character password

3. Use this password as `SMTP_PASS` in `.env.local`> A modern platform connecting Norwegian employers with local workers for small tasks and gigs.



### Vipps OAuth Setup[![Next.js](https://img.shields.io/badge/Next.js-15.5.4-black)](https://nextjs.org/)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)

1. Register at [Vipps Developer Portal](https://vipps.no/developer)[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green)](https://supabase.com/)

2. Create a test application[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

3. Get your credentials (Client ID, Client Secret, Subscription Key)

4. Add redirect URI: `http://localhost:3000/api/auth/vipps/callback`---

5. For production, switch `VIPPS_API_BASE_URL` to `https://api.vipps.no`

## ğŸ“– Table of Contents

### Google Places API Setup

- [Overview](#overview)

1. Create a project in [Google Cloud Console](https://console.cloud.google.com)- [Features](#features)

2. Enable **Places API**- [Tech Stack](#tech-stack)

3. Create an API key with Places API restriction- [Getting Started](#getting-started)

4. Add key to `.env.local` as `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`- [Configuration](#configuration)

- [Deployment](#deployment)

---- [API Documentation](#api-documentation)

- [Project Structure](#project-structure)

## ğŸš¢ Deployment- [Contributing](#contributing)



### Deploy to Vercel (Recommended)---



1. **Push to GitHub**## ğŸ¯ Overview

   ```bash

   git add .**FLUS** is a full-stack job marketplace platform built for the Norwegian market. It enables:

   git commit -m "Ready for deployment"- **Workers** to find and apply for local gigs

   git push origin main- **Employers** to post jobs and hire qualified workers

   ```- **Real-time communication** between parties

- **Secure payments** and **review systems**

2. **Import to Vercel**

   - Go to [vercel.com](https://vercel.com)**Live Demo:** [Coming Soon]

   - Click "New Project"

   - Import your GitHub repository---



3. **Add Environment Variables**## âœ¨ Features

   

   In Vercel Dashboard â†’ Settings â†’ Environment Variables, add all variables from `.env.local` with these **production changes**:### ğŸ‘· For Workers

   - ğŸ” Browse jobs by category, location, and keywords

   | Variable | Production Value |- âœ‰ï¸ One-click job applications

   |----------|-----------------|- ğŸ’¬ Real-time chat with employers

   | `NEXT_PUBLIC_APP_URL` | `https://your-domain.vercel.app` |- ğŸ“Š Track application status

   | `VIPPS_API_BASE_URL` | `https://api.vipps.no` |- ğŸ‘¤ Build professional profile with CV and skills

   | `VIPPS_REDIRECT_URI` | `https://your-domain.vercel.app/api/auth/vipps/callback` |- â­ Reputation system with reviews and ratings

- ğŸ“§ Email notifications for updates

4. **Deploy**

   ### ğŸ¢ For Employers

   Vercel will automatically build and deploy. Monitor the build logs for any issues.- â• Create and manage job postings

- ğŸ“‹ Review worker applications

### Post-Deployment Checklist- ğŸ’¬ Chat with applicants

- ğŸ“ˆ View business statistics

- âœ… Update Vipps redirect URI in Vipps Developer Portal- â­ Rate and review workers

- âœ… Test OAuth login flow on production- ğŸ“§ Get notified of new applications

- âœ… Verify email notifications work

- âœ… Test file uploads to Supabase Storage### ğŸ¨ Platform Features

- âœ… Check all API routes respond correctly- ğŸ” Secure authentication via **Vipps OAuth**

- âœ… Run Playwright E2E tests against production- ğŸ“± Fully responsive design

- ğŸ—ºï¸ Location-based search with **Google Places API**

---- ğŸ“… Flexible scheduling options

- ğŸ’° Fixed price or hourly rate payments

## ğŸ“¡ API Documentation- ğŸ“¸ Photo uploads for jobs

- ğŸ† Achievement system

### Authentication Endpoints- ğŸ‘‘ Admin dashboard



| Method | Endpoint | Description |---

|--------|----------|-------------|

| `GET` | `/api/auth/vipps/start` | Initiate Vipps OAuth flow |## ğŸ› ï¸ Tech Stack

| `GET` | `/api/auth/vipps/callback` | Handle OAuth callback |

| `GET` | `/api/auth/me` | Get current user session || Category | Technology |

| `POST` | `/api/auth/logout` | Logout user ||----------|-----------|

| **Framework** | Next.js 15.5.4 (App Router, Turbopack) |

### Job Endpoints| **Language** | TypeScript |

| **Database** | Supabase (PostgreSQL) |

| Method | Endpoint | Description || **Storage** | Supabase Storage |

|--------|----------|-------------|| **Authentication** | Vipps OAuth 2.0 |

| `GET` | `/api/jobs` | List all jobs (with filters) || **Styling** | Tailwind CSS 4.0 |

| `POST` | `/api/jobs` | Create new job || **UI Components** | Radix UI + shadcn/ui |

| `GET` | `/api/jobs/[id]` | Get job details || **Email** | Nodemailer (SMTP) |

| `PATCH` | `/api/jobs/[id]` | Update job || **Maps** | Google Places API |

| `DELETE` | `/api/jobs/[id]` | Delete job || **Testing** | Playwright |

| `GET` | `/api/my-jobs` | Get user's posted jobs |

---

### Application Endpoints

## ğŸš€ Getting Started

| Method | Endpoint | Description |

|--------|----------|-------------|### Prerequisites

| `GET` | `/api/applications` | Get user's applications |

| `POST` | `/api/applications` | Apply to a job |Before you begin, ensure you have:

| `PATCH` | `/api/applications` | Update application status |- **Node.js** 18+ installed

- **npm** or **pnpm** package manager

### Profile Endpoints- **Supabase** account

- **Vipps** developer account ([Register here](https://vipps.no/developer))

| Method | Endpoint | Description |- **Gmail** account (for SMTP)

|--------|----------|-------------|- **Google Cloud Platform** account (for Places API)

| `GET` | `/api/profile` | Get user profile |

| `POST` | `/api/profile/update` | Update profile |### Installation

| `GET` | `/api/profile/stats` | Get user statistics |

| `GET` | `/api/profile/reviews` | Get user reviews |1. **Clone the repository**

   ```bash

### CV Endpoints   git clone https://github.com/KovalDenys1/flus-mvp.git

   cd flus-mvp

| Method | Endpoint | Description |   ```

|--------|----------|-------------|

| `GET` | `/api/cv` | Get CV entries |2. **Install dependencies**

| `POST` | `/api/cv` | Add CV entry |   ```bash

| `DELETE` | `/api/cv` | Remove CV entry |   npm install

| `GET` | `/api/cv/pdf` | Generate PDF CV |   ```



### Chat Endpoints3. **Set up the database**

   

| Method | Endpoint | Description |   Create a Supabase project at [supabase.com](https://supabase.com), then run these migrations in order:

|--------|----------|-------------|   

| `GET` | `/api/conversations` | List conversations |   ```sql

| `GET` | `/api/conversations/[id]/messages` | Get messages |   -- In Supabase SQL Editor, run these files:

| `POST` | `/api/conversations/[id]/messages` | Send message |   supabase/migrations/01_init_schema.sql

   supabase/migrations/02_storage_policies.sql

---   supabase/migrations/03_seed_demo_jobs.sql

   supabase/migrations/04_add_birth_year.sql

## ğŸ“ Project Structure   ```



```4. **Create storage bucket**

flus-mvp/   

â”œâ”€â”€ src/   In Supabase Dashboard â†’ Storage:

â”‚   â”œâ”€â”€ app/                          # Next.js App Router   - Create bucket: `job-photos`

â”‚   â”‚   â”œâ”€â”€ api/                      # API routes   - Set to **Public**

â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                 # Authentication   - Max file size: **5MB**

â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/                 # Job management

â”‚   â”‚   â”‚   â”œâ”€â”€ applications/         # Applications5. **Configure environment variables**

â”‚   â”‚   â”‚   â”œâ”€â”€ profile/              # User profiles   

â”‚   â”‚   â”‚   â”œâ”€â”€ cv/                   # CV management   Copy `.env.example` to `.env.local` and fill in your credentials:

â”‚   â”‚   â”‚   â””â”€â”€ conversations/        # Chat   

â”‚   â”‚   â”œâ”€â”€ jobber/                   # Job listings pages   ```bash

â”‚   â”‚   â”œâ”€â”€ profil/                   # Profile pages   cp .env.example .env.local

â”‚   â”‚   â”œâ”€â”€ mine-jobber/              # Employer dashboard   ```

â”‚   â”‚   â”œâ”€â”€ mine-soknader/            # Worker applications   

â”‚   â”‚   â”œâ”€â”€ samtaler/                 # Chat interface   See [Configuration](#configuration) section below for details.

â”‚   â”‚   â””â”€â”€ layout.tsx                # Root layout

â”‚   â”œâ”€â”€ components/                   # React components6. **Run the development server**

â”‚   â”‚   â”œâ”€â”€ ui/                       # Reusable UI components   ```bash

â”‚   â”‚   â”œâ”€â”€ AddressAutocomplete.tsx   # Google Places integration   npm run dev

â”‚   â”‚   â”œâ”€â”€ AuthGuard.tsx             # Auth protection   ```

â”‚   â”‚   â””â”€â”€ Navbar.tsx                # Navigation   

â”‚   â””â”€â”€ lib/                          # Utilities   Open [http://localhost:3000](http://localhost:3000) ğŸ‰

â”‚       â”œâ”€â”€ data/                     # Data layer functions

â”‚       â”œâ”€â”€ supabase/                 # Supabase clients---

â”‚       â”œâ”€â”€ utils/                    # Helper functions

â”‚       â””â”€â”€ email.ts                  # Email service## âš™ï¸ Configuration

â”œâ”€â”€ supabase/

â”‚   â””â”€â”€ migrations/                   # Database migrations### Environment Variables

â”œâ”€â”€ public/                           # Static assets

â”œâ”€â”€ .env.local                        # Environment variables (gitignored)Create a `.env.local` file with these variables:

â”œâ”€â”€ package.json                      # Dependencies

â”œâ”€â”€ next.config.ts                    # Next.js config```bash

â”œâ”€â”€ tailwind.config.ts                # Tailwind config# Supabase Configuration

â””â”€â”€ tsconfig.json                     # TypeScript configNEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co

```NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

---

# Application URL

## ğŸ§ª TestingNEXT_PUBLIC_APP_URL=http://localhost:3000



### Run Tests# Vipps OAuth (Test Environment)

VIPPS_CLIENT_ID=your_vipps_client_id

```bashVIPPS_CLIENT_SECRET=your_vipps_client_secret

# Install Playwright browsers (first time only)VIPPS_SUBSCRIPTION_KEY=your_subscription_key

npx playwright installVIPPS_MERCHANT_SERIAL_NUMBER=your_msn

VIPPS_API_BASE_URL=https://apitest.vipps.no

# Run E2E testsVIPPS_REDIRECT_URI=http://localhost:3000/api/auth/vipps/callback

npx playwright test

# Email Configuration (SMTP)

# Run tests in UI modeSMTP_HOST=smtp.gmail.com

npx playwright test --uiSMTP_PORT=587

SMTP_SECURE=false

# Run specific test fileSMTP_USER=your-email@gmail.com

npx playwright test tests/auth.spec.tsSMTP_PASS=your_gmail_app_password

```

# Google Places API

### Linting & Type CheckingNEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key

```

```bash

# Lint code### Email Setup (Gmail SMTP)

npm run lint

1. Enable **2-Factor Authentication** on your Gmail account

# Type check2. Generate an **App Password**:

npx tsc --noEmit   - Visit: https://myaccount.google.com/apppasswords

   - Select "Mail" and your device

# Build for production (tests compilation)   - Copy the generated 16-character password

npm run build3. Use this password as `SMTP_PASS` in `.env.local`

```

### Vipps OAuth Setup

---

1. Register at [Vipps Developer Portal](https://vipps.no/developer)

## ğŸ› Troubleshooting2. Create a test application

3. Get your credentials (Client ID, Client Secret, Subscription Key)

### Common Issues4. Add redirect URI: `http://localhost:3000/api/auth/vipps/callback`

5. For production, switch `VIPPS_API_BASE_URL` to `https://api.vipps.no`

#### "Failed to fetch" errors

- âœ… Verify `.env.local` is properly configured### Google Places API Setup

- âœ… Check Supabase URL and keys are correct

- âœ… Restart development server (`npm run dev`)1. Create a project in [Google Cloud Console](https://console.cloud.google.com)

2. Enable **Places API**

#### Vipps OAuth not working3. Create an API key with Places API restriction

- âœ… Verify redirect URI matches exactly in Vipps Portal4. Add key to `.env.local` as `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`

- âœ… Check `VIPPS_API_BASE_URL` (test vs production)

- âœ… Ensure all Vipps credentials are correct---



#### Email not sending## ğŸš¢ Deployment

- âœ… Verify Gmail App Password is correct (16 characters, no spaces)

- âœ… Check SMTP configuration in `.env.local`### Deploy to Vercel (Recommended)

- âœ… Ensure 2FA is enabled on Gmail account

1. **Push to GitHub**

#### Database/RLS policy errors   ```bash

- âœ… Run all migrations in correct order   git add .

- âœ… Check RLS policies are enabled   git commit -m "Ready for deployment"

- âœ… Verify service role key has admin access   git push origin main

   ```

#### Images not uploading

- âœ… Ensure `job-photos` bucket exists in Supabase2. **Import to Vercel**

- âœ… Check bucket is set to **Public**   - Go to [vercel.com](https://vercel.com)

- âœ… Verify file size is under 5MB   - Click "New Project"

   - Import your GitHub repository

#### Address autocomplete not working

- âœ… Check Google Maps API key is correct3. **Add Environment Variables**

- âœ… Verify Places API is enabled in Google Cloud Console   

- âœ… Ensure billing is enabled on Google Cloud project   In Vercel Dashboard â†’ Settings â†’ Environment Variables, add all variables from `.env.local` with these changes:

   

---   ```bash

   NEXT_PUBLIC_APP_URL=https://your-domain.vercel.app

## ğŸ“¦ Production Checklist   VIPPS_API_BASE_URL=https://api.vipps.no  # Production API

   VIPPS_REDIRECT_URI=https://your-domain.vercel.app/api/auth/vipps/callback

Before deploying to production:   ```



- [ ] **Dependencies**: Lockfile (`package-lock.json`) is committed4. **Deploy**

- [ ] **Database**: All migrations applied in Supabase   

- [ ] **Environment**: All variables set in Vercel/production   Vercel will automatically deploy. Monitor the build logs for any issues.

- [ ] **Auth**: Vipps OAuth tested with production credentials

- [ ] **Email**: SMTP tested and working### Post-Deployment Checklist

- [ ] **Build**: `npm run build` passes without errors

- [ ] **Lint**: `npm run lint` passes without warnings- âœ… Update Vipps redirect URI in Vipps Developer Portal

- [ ] **Tests**: Playwright E2E tests pass- âœ… Test OAuth login flow

- [ ] **Security**: `.env.local` is in `.gitignore`- âœ… Verify email notifications work

- [ ] **Docs**: README is up to date- âœ… Test file uploads to Supabase Storage

- [ ] **CI/CD**: GitHub Actions workflow configured (optional)- âœ… Check all API routes respond correctly

- âœ… Run Playwright E2E tests

---

---

## ğŸ‘¥ Contributors

## ğŸ“¡ API Documentation

- **Denys Koval** - Project Lead & Core Development - [@KovalDenys1](https://github.com/KovalDenys1)

- **Alexander** - Google Places API Integration### Authentication Endpoints

- **Ayanle** - Admin Dashboard Development

| Method | Endpoint | Description |

---|--------|----------|-------------|

| `GET` | `/api/auth/vipps/start` | Initiate Vipps OAuth flow |

## ğŸ“„ License| `GET` | `/api/auth/vipps/callback` | Handle OAuth callback |

| `GET` | `/api/auth/me` | Get current user session |

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.| `POST` | `/api/auth/logout` | Logout user |



---### Job Endpoints



## ğŸ™ Acknowledgments| Method | Endpoint | Description |

|--------|----------|-------------|

- [Next.js](https://nextjs.org/) - The React Framework| `GET` | `/api/jobs` | List all jobs (with filters) |

- [Supabase](https://supabase.com/) - Open source Firebase alternative| `POST` | `/api/jobs` | Create new job |

- [Vipps](https://vipps.no/) - Norwegian payment & authentication provider| `GET` | `/api/jobs/[id]` | Get job details |

- [Tailwind CSS](https://tailwindcss.com/) - Utility-first CSS framework| `PATCH` | `/api/jobs/[id]` | Update job |

- [shadcn/ui](https://ui.shadcn.com/) - Re-usable UI components| `DELETE` | `/api/jobs/[id]` | Delete job |

- [Radix UI](https://www.radix-ui.com/) - Unstyled, accessible components| `GET` | `/api/my-jobs` | Get user's posted jobs |

- [Lucide](https://lucide.dev/) - Beautiful icon library

### Application Endpoints

---

| Method | Endpoint | Description |

## ğŸ“§ Support|--------|----------|-------------|

| `GET` | `/api/applications` | Get user's applications |

For questions or issues:| `POST` | `/api/applications` | Apply to a job |

- ğŸ› [Open an issue](https://github.com/KovalDenys1/flus-mvp/issues)| `PATCH` | `/api/applications` | Update application status |

- ğŸ’¬ [Discussions](https://github.com/KovalDenys1/flus-mvp/discussions)

### Profile Endpoints

---

| Method | Endpoint | Description |

<div align="center">|--------|----------|-------------|

  <strong>Made with â¤ï¸ in Norway ğŸ‡³ğŸ‡´</strong>| `GET` | `/api/profile` | Get user profile |

  <br><br>| `POST` | `/api/profile/update` | Update profile |

  <a href="https://github.com/KovalDenys1/flus-mvp">â­ Star this repo if you found it helpful!</a>| `GET` | `/api/profile/stats` | Get user statistics |

</div>| `GET` | `/api/profile/reviews` | Get user reviews |


### CV Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/cv` | Get CV entries |
| `POST` | `/api/cv` | Add CV entry |
| `DELETE` | `/api/cv` | Remove CV entry |
| `GET` | `/api/cv/pdf` | Generate PDF CV |

### Chat Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/conversations` | List conversations |
| `GET` | `/api/conversations/[id]/messages` | Get messages |
| `POST` | `/api/conversations/[id]/messages` | Send message |

---

## ğŸ“ Project Structure

```
flus-mvp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/                      # API routes
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                 # Authentication
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/                 # Job management
â”‚   â”‚   â”‚   â”œâ”€â”€ applications/         # Applications
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/              # User profiles
â”‚   â”‚   â”‚   â”œâ”€â”€ cv/                   # CV management
â”‚   â”‚   â”‚   â””â”€â”€ conversations/        # Chat
â”‚   â”‚   â”œâ”€â”€ jobber/                   # Job listings pages
â”‚   â”‚   â”œâ”€â”€ profil/                   # Profile pages
â”‚   â”‚   â”œâ”€â”€ mine-jobber/              # Employer dashboard
â”‚   â”‚   â”œâ”€â”€ mine-soknader/            # Worker applications
â”‚   â”‚   â”œâ”€â”€ samtaler/                 # Chat interface
â”‚   â”‚   â””â”€â”€ layout.tsx                # Root layout
â”‚   â”œâ”€â”€ components/                   # React components
â”‚   â”‚   â”œâ”€â”€ ui/                       # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ AddressAutocomplete.tsx   # Google Places integration
â”‚   â”‚   â”œâ”€â”€ AuthGuard.tsx             # Auth protection
â”‚   â”‚   â””â”€â”€ Navbar.tsx                # Navigation
â”‚   â””â”€â”€ lib/                          # Utilities
â”‚       â”œâ”€â”€ data/                     # Data layer functions
â”‚       â”œâ”€â”€ supabase/                 # Supabase clients
â”‚       â”œâ”€â”€ utils/                    # Helper functions
â”‚       â””â”€â”€ email.ts                  # Email service
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/                   # Database migrations
â”œâ”€â”€ public/                           # Static assets
â”œâ”€â”€ .env.local                        # Environment variables (gitignored)
â”œâ”€â”€ package.json                      # Dependencies
â”œâ”€â”€ next.config.ts                    # Next.js config
â”œâ”€â”€ tailwind.config.ts                # Tailwind config
â””â”€â”€ tsconfig.json                     # TypeScript config
```

---

## ğŸ› Troubleshooting

### Common Issues

**"Failed to fetch" errors**
- âœ… Verify `.env.local` is properly configured
- âœ… Check Supabase URL and keys are correct
- âœ… Restart development server (`npm run dev`)

**Vipps OAuth not working**
- âœ… Verify redirect URI matches exactly in Vipps Portal
- âœ… Check `VIPPS_API_BASE_URL` (test vs production)
- âœ… Ensure all Vipps credentials are correct

**Email not sending**
- âœ… Verify Gmail App Password is correct (16 characters, no spaces)
- âœ… Check SMTP configuration in `.env.local`
- âœ… Ensure 2FA is enabled on Gmail account

**Database/RLS policy errors**
- âœ… Run all migrations in correct order
- âœ… Check RLS policies are enabled
- âœ… Verify service role key has admin access

**Images not uploading**
- âœ… Ensure `job-photos` bucket exists in Supabase
- âœ… Check bucket is set to **Public**
- âœ… Verify file size is under 5MB

**Address autocomplete not working**
- âœ… Check Google Maps API key is correct
- âœ… Verify Places API is enabled in Google Cloud Console
- âœ… Ensure billing is enabled on Google Cloud project

---

## ğŸ§ª Testing

### Run Tests

```bash
# Install Playwright browsers (first time only)
npx playwright install

# Run E2E tests
npm run test

# Run tests in UI mode
npx playwright test --ui

# Run specific test file
npx playwright test tests/auth.spec.ts
```

### Linting & Type Checking

```bash
# Lint code
npm run lint

# Type check
npm run type-check

# Build for production (tests compilation)
npm run build
```

---

## ğŸ“¦ Production Checklist

Before deploying to production:

- [ ] **Dependencies**: Lockfile (`package-lock.json`) is committed
- [ ] **Database**: All migrations applied in Supabase
- [ ] **Environment**: All variables set in Vercel/production
- [ ] **Auth**: Vipps OAuth tested with production credentials
- [ ] **Email**: SMTP tested and working
- [ ] **Build**: `npm run build` passes without errors
- [ ] **Lint**: `npm run lint` passes without warnings
- [ ] **Tests**: Playwright E2E tests pass
- [ ] **Security**: `.env.local` is in `.gitignore`
- [ ] **Docs**: README is up to date
- [ ] **CI/CD**: GitHub Actions workflow configured

---

## ğŸ‘¥ Contributors

- **Denys Koval** - Project Lead & Core Development - [@KovalDenys1](https://github.com/KovalDenys1)
- **Alexander** - Google Places API Integration
- **Ayanle** - Admin Dashboard Development

---

## ğŸ“„ License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- [Next.js](https://nextjs.org/) - The React Framework
- [Supabase](https://supabase.com/) - Open source Firebase alternative
- [Vipps](https://vipps.no/) - Norwegian payment & authentication provider
- [Tailwind CSS](https://tailwindcss.com/) - Utility-first CSS framework
- [shadcn/ui](https://ui.shadcn.com/) - Re-usable UI components
- [Radix UI](https://www.radix-ui.com/) - Unstyled, accessible components
- [Lucide](https://lucide.dev/) - Beautiful icon library

---

## ğŸ“§ Support

For questions or issues:
- ğŸ› [Open an issue](https://github.com/KovalDenys1/flus-mvp/issues)
- ğŸ’¬ [Discussions](https://github.com/KovalDenys1/flus-mvp/discussions)
- ğŸ“§ Email: [your-email@example.com](mailto:your-email@example.com)

---

<div align="center">
  <strong>Made with â¤ï¸ in Norway ğŸ‡³ğŸ‡´</strong>
  <br><br>
  <a href="https://github.com/KovalDenys1/flus-mvp">â­ Star this repo if you found it helpful!</a>
</div>
- Check SMTP configuration

- Ensure 2FA is enabled on Gmail```- âš ï¸ Chat (now persistent with database)



**Database errors:**- âš ï¸ Statistics (basic)

- Run all migrations in correct order

- Check RLS policies are enabledOpen [http://localhost:3000](http://localhost:3000) in your browser.- âš ï¸ Achievements (demo data)

- Verify service role key has admin access



**Images not uploading:**

- Ensure `job-photos` bucket exists### 6. Build for Production## API Routes

- Check bucket is set to public

- Verify file size is under 5MB



## ğŸš¢ Deployment```bash**Authentication:**



### Vercel (Recommended)npm run build- `GET /api/auth/vipps/start` - OAuth start

1. Push code to GitHub

2. Import project in Vercelnpm start- `GET /api/auth/vipps/callback` - OAuth callback

3. Add environment variables

4. Deploy```- `GET /api/auth/me` - Current user



### Environment Variables for Production- `POST /api/auth/logout` - Logout

Make sure to update these for production:

- `NEXT_PUBLIC_APP_URL` - Your production domain## ğŸ“ Project Structure

- `VIPPS_API_BASE_URL` - Change to `https://api.vipps.no`

- `VIPPS_REDIRECT_URI` - Update to production callback URL**Jobs:**

- All Supabase credentials

- SMTP credentials```- `GET /api/jobs` - List jobs



## ğŸ“„ Licenseflus-mvp/- `POST /api/jobs` - Create job

MIT License - See LICENSE file for details

â”œâ”€â”€ src/- `GET /api/jobs/[id]` - Job details

## ğŸ‘¨â€ğŸ’» Author

Denys Koval - [GitHub](https://github.com/KovalDenys1)â”‚   â”œâ”€â”€ app/                    # Next.js App Router- `GET /api/my-jobs` - User's jobs



## ğŸ™ Acknowledgmentsâ”‚   â”‚   â”œâ”€â”€ api/               # API routes

- Built with Next.js and Supabase

- UI components from shadcn/uiâ”‚   â”‚   â”œâ”€â”€ jobber/            # Job listings**Applications:**

- Icons from Lucide React

- Authentication via Vippsâ”‚   â”‚   â”œâ”€â”€ profil/            # User profiles- `GET /api/applications` - User applications



---â”‚   â”‚   â”œâ”€â”€ mine-jobber/       # Employer's jobs- `POST /api/applications` - Apply



**Made with â¤ï¸ in Norway**â”‚   â”‚   â”œâ”€â”€ mine-soknader/     # Worker's applications

â”‚   â”‚   â”œâ”€â”€ samtaler/          # Chat interface**Profile:**

â”‚   â”‚   â””â”€â”€ ...- `GET /api/profile/stats` - Statistics

â”‚   â”œâ”€â”€ components/            # React components- `POST /api/profile/update` - Update

â”‚   â”‚   â”œâ”€â”€ ui/               # UI primitives- `GET /api/profile/reviews` - Reviews

â”‚   â”‚   â””â”€â”€ ...

â”‚   â””â”€â”€ lib/                   # Utilities & helpers**CV:**

â”‚       â”œâ”€â”€ data/             # Data layer- `GET /api/cv` - Get CV

â”‚       â”œâ”€â”€ supabase/         # Supabase client- `POST /api/cv` - Add entry

â”‚       â”œâ”€â”€ vipps/            # Vipps integration- `DELETE /api/cv` - Remove

â”‚       â””â”€â”€ utils/            # Helper functions

â”œâ”€â”€ supabase/## Role System

â”‚   â””â”€â”€ migrations/           # Database migrations

â””â”€â”€ public/                   # Static assetsSwitch modes with navbar toggle:

```

**Worker:** Browse jobs, apply, CV, achievements  

## ğŸ”‘ Key API Routes**Employer:** Create jobs, view applicants, statistics



### AuthenticationReal-time sync - profile updates instantly when switching!

- `GET /api/auth/vipps/start` - Initiate Vipps OAuth flow

- `GET /api/auth/vipps/callback` - OAuth callback handler## Database

- `GET /api/auth/me` - Get current user

- `POST /api/auth/logout` - Logout user**Tables:**

- users, jobs, applications

### Jobs- cv_entries, skills, reviews

- `GET /api/jobs` - List all jobs (with filters)- conversations, messages

- `POST /api/jobs` - Create new job- achievements, job_photos

- `GET /api/jobs/[id]` - Get job details

- `DELETE /api/jobs/[id]` - Delete job**Storage:**

- `GET /api/my-jobs` - Get user's jobs- job-photos bucket (5MB)



### Applications## Project Structure

- `GET /api/applications` - Get user's applications

- `POST /api/applications` - Submit job application```

- `PATCH /api/applications` - Update application statusflus-mvp/

â”œâ”€â”€ src/

### Profile & CVâ”‚   â”œâ”€â”€ app/

- `GET /api/profile` - Get user profileâ”‚   â”‚   â”œâ”€â”€ api/           # API routes

- `POST /api/profile/update` - Update profileâ”‚   â”‚   â”œâ”€â”€ jobber/        # Jobs

- `GET /api/profile/stats` - Get user statisticsâ”‚   â”‚   â”œâ”€â”€ profil/        # Profiles

- `GET /api/cv` - Get CV entriesâ”‚   â”‚   â””â”€â”€ ...

- `POST /api/cv` - Add CV entryâ”‚   â”œâ”€â”€ components/        # React components

â”‚   â””â”€â”€ lib/              # Utils, data, Vipps

### Chatâ”œâ”€â”€ supabase/

- `GET /api/conversations` - List conversationsâ”‚   â””â”€â”€ migrations/       # DB migrations

- `GET /api/conversations/[id]/messages` - Get messagesâ””â”€â”€ .env.local

- `POST /api/conversations/[id]/messages` - Send message```



## ğŸ¯ Features Overview## Troubleshooting



### Dual Role System**"Failed to fetch":** Check `.env.local`, restart server

Users can switch between **Worker** and **Employer** modes:

- **Worker Mode:** Browse jobs, apply, manage applications, view CV**"RLS policy error":** Run database migrations

- **Employer Mode:** Post jobs, review applications, hire workers

- Seamless role switching via navbar toggle**"Job not found":** Check database setup and migrations



### Real-Time Chat## License

- Persistent conversations stored in Supabase

- Photo sharing supportMIT License - Educational prototype

- Work completion flow with before/after photos

- System notifications for work status changes(c) 2025 Denys Koval



### Job Management## Support

- Create jobs with detailed requirements

- Set flexible or fixed schedules- GitHub Issues

- Choose payment type (fixed/hourly)- Supabase Dashboard logs

- Upload photos for context

- Track job status (open/assigned/completed)---



### Application System**Built with love in Norway**

- One-click applications
- Track application status
- Email notifications for updates
- Employer can review and accept/reject

### Profile & CV
- Build professional worker profile
- Add work experience and skills
- Display reviews and ratings
- Generate PDF CV
- Track achievements and statistics

## ğŸ”§ Configuration

### Vipps Setup
1. Register at [Vipps Developer Portal](https://vipps.no/developer)
2. Create test app for development
3. Get credentials and add to `.env.local`
4. For production, switch to production API URL

### Database Schema
The database includes these main tables:
- `users` - User accounts with roles
- `jobs` - Job postings
- `applications` - Job applications
- `conversations` - Chat conversations
- `messages` - Chat messages
- `cv_entries` - Work experience
- `skills` - User skills
- `reviews` - User reviews and ratings

## ğŸ› Troubleshooting

**"Failed to fetch" errors:**
- Check that `.env.local` is properly configured
- Verify Supabase URL and keys
- Restart development server

**Vipps OAuth not working:**
- Verify redirect URI matches exactly
- Check Vipps credentials
- For production, update API base URL

**Email not sending:**
- Verify Gmail App Password is correct
- Check SMTP configuration
- Ensure 2FA is enabled on Gmail

**Database errors:**
- Run all migrations in correct order
- Check RLS policies are enabled
- Verify service role key has admin access

**Images not uploading:**
- Ensure `job-photos` bucket exists
- Check bucket is set to public
- Verify file size is under 5MB

## ğŸš¢ Deployment

### Vercel (Recommended)

1. Push code to GitHub
2. Import project in Vercel
3. Add environment variables
4. Deploy

### Environment Variables for Production
Make sure to update these for production:
- `NEXT_PUBLIC_APP_URL` - Your production domain
- `VIPPS_API_BASE_URL` - Change to `https://api.vipps.no`
- `VIPPS_REDIRECT_URI` - Update to production callback URL
- All Supabase credentials
- SMTP credentials

## ğŸ“„ License

MIT License - See LICENSE file for details

## ğŸ‘¨â€ğŸ’» Author

Denys Koval - [GitHub](https://github.com/KovalDenys1)

## ğŸ™ Acknowledgments

- Built with Next.js and Supabase
- UI components from shadcn/ui
- Icons from Lucide React
- Authentication via Vipps

---

**Made with â¤ï¸ in Norway**
